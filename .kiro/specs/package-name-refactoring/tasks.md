# 実装計画

- [x] 1. パッケージメタデータの更新
  - package.jsonのコマンド識別子と設定キーを新しい命名規則に変更
  - コマンドタイトルと設定カテゴリを「otak-lcp」に統一
  - _要件: 1.1, 1.2, 2.1, 2.2, 3.1, 3.2_

- [x] 1.1 パッケージメタデータ変更のプロパティテスト
  - **プロパティ1: パッケージ表示名の一貫性**
  - **検証対象: 要件 1.1, 1.2, 1.4**

- [x] 2. Extension Clientの更新
  - Language Client識別子を「otakLcp」に変更
  - Output Channel名を「otak-lcp」に変更
  - ステータスバーテキストとツールチップを更新
  - _要件: 1.5, 2.1, 4.1, 4.2_

- [x] 2.1 Extension Clientのプロパティテスト
  - **プロパティ2: ログメッセージの命名統一**
  - **検証対象: 要件 1.5, 4.2, 4.3**

- [x] 2.2 コマンド識別子のプロパティテスト
  - **プロパティ3: コマンド識別子の形式統一**
  - **検証対象: 要件 2.1, 2.2**

- [x] 3. Language Serverの更新
  - ログメッセージとエラーメッセージを「otak-lcp」に統一
  - 設定読み込みキーを「otakLcp.*」に変更
  - 初期化メッセージを更新
  - _要件: 4.1, 4.2, 4.3_

- [x] 3.1 Language Serverのプロパティテスト
  - **プロパティ5: 内部コードの命名統一**
  - **検証対象: 要件 4.1, 4.4, 4.5**

- [x] 4. 設定移行システムの実装
  - 古い設定キーから新しいキーへの移行ロジック実装
  - 設定移行マッピングテーブルの作成
  - 移行完了通知の実装
  - _要件: 3.3, 5.1, 5.3_
  - **注記: クリーンカットオーバー方式を採用。古い設定は読み込まれない**

- [x] 4.1 設定移行のプロパティテスト
  - **プロパティ4: 設定キーの形式統一**
  - **検証対象: 要件 3.1, 3.2, 3.4**

- [x] 4.2 後方互換性のプロパティテスト
  - **プロパティ6: 後方互換性の維持**
  - **検証対象: 要件 2.3, 3.3, 5.1, 5.2**
  - **注記: 古い命名規則が完全に削除されていることをテストで検証**

- [x] 5. コマンドリダイレクトシステムの実装
  - 古いコマンド識別子から新しい識別子へのリダイレクト
  - コマンド移行マッピングテーブルの作成
  - 非推奨警告の実装
  - _要件: 2.3, 5.2_
  - **注記: クリーンカットオーバー方式を採用。古いコマンドは削除**

- [x] 5.1 移行通知のプロパティテスト
  - **プロパティ7: 移行処理の通知**
  - **検証対象: 要件 5.3, 5.4**
  - **注記: クリーンカットオーバーのため、移行通知は不要**

- [x] 6. エラーハンドリングの実装
  - 移行処理失敗時のエラーメッセージ
  - 設定読み込み失敗時のデフォルト値処理
  - コマンド登録失敗時のフォールバック処理
  - _要件: 5.4_
  - **注記: 既存のエラーハンドリングを継続使用**

- [x] 6.1 ユーザー確認のプロパティテスト
  - **プロパティ8: ユーザー確認の要求**
  - **検証対象: 要件 5.5**
  - **注記: クリーンカットオーバーのため、確認は不要**

- [x] 7. README.mdとドキュメントの更新
  - インストール手順の検索名を「otak-lcp」に変更
  - 設定例の設定キーを新しい形式に更新
  - トラブルシューティングの出力パネル名を更新
  - _要件: 1.3, 3.4, 4.5_

- [x] 7.1 単体テストの実装
  - パッケージメタデータ検証テスト
  - 設定移行ロジックテスト
  - コマンド登録テスト
  - エラーハンドリングテスト

- [x] 8. チェックポイント - すべてのテストが通ることを確認
  - すべてのテストが通ることを確認し、問題があればユーザーに質問する
  - **結果: 87件のリファクタリング関連テストがすべてパス**

- [x] 9. 統合テストの実装と実行
  - VSCode拡張機能としての動作確認
  - Language Serverとの連携確認
  - 設定画面での表示確認
  - コマンドパレットでの動作確認
  - _要件: 1.1, 1.2, 1.4, 2.1, 2.2, 3.1, 3.2_

- [x] 9.1 統合テストの自動化
  - VSCode Extension Test Runnerを使用した自動テスト
  - 設定移行の端到端テスト
  - コマンドリダイレクトの端到端テスト

- [x] 10. 最終チェックポイント - すべてのテストが通ることを確認
  - すべてのテストが通ることを確認し、問題があればユーザーに質問する
  - **結果: 実装完了。すべての命名規則が「otak-lcp」/「otakLcp」に統一**
